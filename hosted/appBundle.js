(()=>{var e={603:e=>{function t(e){let t=document.querySelector(".message");t.innerHTML=e,t.style.opacity=1,t.style.visibility="visible",t.style.transform="scaleY(1)",setTimeout(a,2e3)}function a(){let e=document.querySelector(".message");e.style.opacity=0,e.style.visibility="hidden",e.style.transform="scaleY(0)"}e.exports={showMessage:t,sendPost:async(e,n,s)=>{const l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),c=await l.json();a(),c.error&&t(c.error),c.redirect&&(window.location=c.redirect),s&&s(c)},hideMessage:a}}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}(()=>{const e=a(603);let t,n=0;const s=e=>{try{return new URL(e),!0}catch(e){return!1}},l=e=>{if(null!=e||""!=e){let t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,a=e.match(t);return a&&11==a[2].length?"https://www.youtube.com/embed/"+a[2]+"?autoplay=0":null}return null},c=e=>{console.log(e.target.getElementsByClassName("pasteHoverButtons"))},r=e=>{console.log("copy:"+e.target)},o=e=>{console.log("delete:"+e.target)},i=()=>React.createElement("div",{className:"pasteHoverButtons"},React.createElement("button",{className:"buttonLook rightSideFlat",onClick:r},"C"),React.createElement("button",{className:"buttonLook leftSideFlat",onClick:o},"X")),m=e=>{let t=[],a="none";t.push(React.createElement("div",{key:-1,className:"paste"},React.createElement("p",null,"While focused on this area, paste text, links, and image links with Ctrl + V!")));for(let r=0;r<e.pastes.length;r++){let o=e.pastes[r];if(s(o.text)){let e;n=o.text,/\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(n)?(t.push(React.createElement("div",{className:"paste",onMouseOver:c,key:r},React.createElement("a",{href:o.text,target:"_blank",className:"inlineLink"},o.text),React.createElement("br",null),React.createElement("img",{src:o.text,alt:"Image imported from web"}),i())),a="image"):(e=l(o.text))?(t.push(React.createElement("div",{className:"paste",onMouseOver:c,key:r},React.createElement("a",{href:o.text,target:"_blank",className:"inlineLink"},o.text),React.createElement("br",null),React.createElement("iframe",{src:e,className:"videoEmbed",type:"text/html",frameBorder:"0",allowFullScreen:!0}),i())),a="youtube"):(t.push(React.createElement("div",{className:"paste",onMouseOver:c,key:r},React.createElement("a",{href:o.text,target:"_blank",className:"inlineLink"},o.text),i())),a="link")}else"p"==a?t.push(React.createElement("div",{className:"lowMarginPaste",onMouseOver:c,key:r},React.createElement("p",null,o.text),i())):t.push(React.createElement("div",{className:"paste",onMouseOver:c,key:r},React.createElement("p",null,o.text),i())),a="p"}var n;return React.createElement("div",{className:"pasteList"},t)},u=e=>{if(null==e.channels||0===e.channels.length)return React.createElement("div",{className:"channelList"},React.createElement("p",null,"No Channels"));let t=[];for(let a=0;a<e.channels.length;a++){let n=e.channels[a];0==a?t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton active",index:n.index,onClick:h},n.name)):t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton",index:n.index,onClick:h},n.name))}return React.createElement("div",{className:"channelList"},t)},d=async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const s=await fetch("/getPastes?index="+n),l=await s.json();ReactDOM.render(React.createElement(m,{pastes:l.pastes}),document.getElementById("mainView"))},h=e=>{n=e.target.getAttribute("index");const t=document.getElementsByClassName("channelButton");for(let e=0;e<t.length;e++)t[e].classList.remove("active");e.target.classList.add("active"),d()};window.onload=async()=>{const a=await fetch("/getToken"),s=await a.json();t=s.csrfToken,ReactDOM.render(React.createElement(u,{csrf:s.csrfToken}),document.getElementById("sideBar")),document.getElementById("mainView").addEventListener("paste",(a=>{(async a=>{a.preventDefault(),e.hideMessage();let s=await navigator.clipboard.readText();s=s.trim(),""!=s&&null!=s&&null!=s?e.sendPost("/app",{text:s,channelIndex:n,_csrf:t},d):e.showMessage("There's nothing to paste!")})(a)})),(async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const n=await fetch("/getChannels"),s=await n.json();ReactDOM.render(React.createElement(u,{channels:s.channels}),document.getElementById("sideBar"))})(),d()}})()})();