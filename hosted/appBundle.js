(()=>{var e={603:e=>{function t(e){let t=document.querySelector(".message");t.innerHTML=e,t.style.opacity=1,t.style.visibility="visible",t.style.transform="scaleY(1)",setTimeout(a,2e3)}function a(){let e=document.querySelector(".message");e.style.opacity=0,e.style.visibility="hidden",e.style.transform="scaleY(0)"}e.exports={showMessage:t,sendPost:async(e,n,s)=>{const c=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i=await c.json();a(),i.error&&t(i.error),i.redirect&&(window.location=i.redirect),s&&s(i)},hideMessage:a}}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,a),c.exports}(()=>{const e=a(603);let t,n=0;const s=e=>{try{return new URL(e),!0}catch(e){return!1}},c=e=>{let t=[];t.push(React.createElement("p",{key:-1},"While focused on this area, paste text, links, and image links with Ctrl + V!"));for(let n=0;n<e.pastes.length;n++){let c=e.pastes[n];s(c.text)?(a=c.text,/\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(a)?t.push(React.createElement("div",{className:"paste"},React.createElement("a",{href:c.text,className:"inlineLink"},c.text),React.createElement("img",{src:c.text,alt:"Image imported from web"}))):t.push(React.createElement("a",{href:c.text,className:"inlineLink paste"},c.text))):t.push(React.createElement("p",{className:"paste"},c.text))}var a;return React.createElement("div",{className:"pasteList"},t)},i=e=>{if(null==e.channels||0===e.channels.length)return React.createElement("div",{className:"channelList"},React.createElement("h3",{className:"emptyDomo"},"No Channels"));let t=[];for(let a=0;a<e.channels.length;a++){let n=e.channels[a];0==a?t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton active",index:n.index,onClick:r},n.name)):t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton",index:n.index,onClick:r},n.name))}return React.createElement("div",{className:"channelList"},t)},l=async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const s=await fetch("/getPastes?index="+n),i=await s.json();ReactDOM.render(React.createElement(c,{pastes:i.pastes}),document.getElementById("mainView"))},r=e=>{n=e.target.getAttribute("index");const t=document.getElementsByClassName("channelButton");for(let e=0;e<t.length;e++)t[e].classList.remove("active");e.target.classList.add("active"),l()};window.onload=async()=>{const a=await fetch("/getToken"),s=await a.json();t=s.csrfToken,ReactDOM.render(React.createElement(i,{csrf:s.csrfToken}),document.getElementById("sideBar")),document.getElementById("mainView").addEventListener("paste",(a=>{(async a=>{a.preventDefault(),e.hideMessage();let s=await navigator.clipboard.readText();s=s.trim(),""!=s&&null!=s&&null!=s?e.sendPost("/app",{text:s,channelIndex:n,_csrf:t},l):e.showMessage("There's nothing to paste!")})(a)})),(async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const n=await fetch("/getChannels"),s=await n.json();ReactDOM.render(React.createElement(i,{channels:s.channels}),document.getElementById("sideBar"))})(),l()}})()})();