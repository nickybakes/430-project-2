(()=>{var e={603:e=>{function t(){let e=document.querySelector(".message");e.style.opacity=0,e.style.visibility="hidden",e.style.transform="scaleY(0)"}e.exports={showMessage:function(e){let a=document.querySelector(".message");a.innerHTML=e,a.style.opacity=1,a.style.visibility="visible",a.style.transform="scaleY(1)",setTimeout(t,2e3)},sendPost:async(e,a,n,s="POST")=>{const r=await fetch(e,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(204!=r.status){const e=await r.json();t(),e.error&&handleError(e.error),e.redirect&&(window.location=e.redirect),n&&n(e)}else n&&n()},hideMessage:t}}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}(()=>{const e=a(603);let t,n=0;const s=e=>{try{return new URL(e),!0}catch(e){return!1}},r=e=>{if(null!=e||""!=e){let t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,a=e.match(t);return a&&11==a[2].length?"https://www.youtube.com/embed/"+a[2]+"?autoplay=0":null}return null},l=e=>{if(e.target.classList.contains("paste"))e.target.querySelector(".pasteHoverButtons").classList.remove("hidden");else{let t=e.target.parentNode;for(;!t.classList.contains("paste")&&null!=t.parentNode;)t=t.parentNode;t.querySelector(".pasteHoverButtons").classList.remove("hidden")}},c=e=>{if(e.target.classList.contains("paste"))e.target.querySelector(".pasteHoverButtons").classList.add("hidden");else{let t=e.target.parentNode;for(;!t.classList.contains("paste")&&null!=t.parentNode;)t=t.parentNode;t.querySelector(".pasteHoverButtons").classList.add("hidden")}},o=t=>{let a=t.target.parentNode.parentNode.getAttribute("data-raw-text");navigator.clipboard.writeText(a),e.hideMessage(),e.showMessage("Copied to clipboard!")},i=async a=>{let n=a.target.parentNode.parentNode.getAttribute("data-id");e.sendPost("/app",{id:n,_csrf:t},R,"DELETE")},d=e=>{let t=new Date(e),a=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),n=t.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"});return React.createElement("div",{className:"pasteHoverButtons hidden"},React.createElement("div",{className:"dateText"},n+" "+a),React.createElement("button",{className:"buttonLook rightSideFlat",onClick:o},"C"),React.createElement("button",{className:"buttonLook leftSideFlat",onClick:i},"X"))},m=e=>{let t=[],a="none";t.push(React.createElement("div",{key:-1,className:"paste"},React.createElement("p",null,"While focused on this area, paste text, links, image links, and YouTube links with Ctrl + V!"))),e.pastes.reverse();for(let o=0;o<e.pastes.length;o++){let i=e.pastes[o];if(s(i.text)){let e;n=i.text,/\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(n)?(t.push(React.createElement("div",{className:"paste",onMouseOver:l,onMouseLeave:c,"data-raw-text":i.text,"data-id":i._id,key:o},React.createElement("a",{href:i.text,target:"_blank",className:"inlineLink"},i.text),React.createElement("br",null),React.createElement("img",{src:i.text,alt:"Image imported from web"}),d(i.createdDate))),a="image"):(e=r(i.text))?(t.push(React.createElement("div",{className:"paste",onMouseOver:l,onMouseLeave:c,"data-raw-text":i.text,"data-id":i._id,key:o},React.createElement("a",{href:i.text,target:"_blank",className:"inlineLink"},i.text),React.createElement("br",null),React.createElement("iframe",{src:e,className:"videoEmbed",type:"text/html",frameBorder:"0",allowFullScreen:!0}),d(i.createdDate))),a="youtube"):(t.push(React.createElement("div",{className:"paste",onMouseOver:l,onMouseLeave:c,"data-raw-text":i.text,"data-id":i._id,key:o},React.createElement("a",{href:i.text,target:"_blank",className:"inlineLink"},i.text),d(i.createdDate))),a="link")}else"p"==a?t.push(React.createElement("div",{className:"paste lowMarginPaste",onMouseOver:l,onMouseLeave:c,"data-raw-text":i.text,"data-id":i._id,key:o},React.createElement("p",null,i.text),d(i.createdDate))):t.push(React.createElement("div",{className:"paste",onMouseOver:l,onMouseLeave:c,"data-raw-text":i.text,"data-id":i._id,key:o},React.createElement("p",null,i.text),d(i.createdDate))),a="p"}var n;return React.createElement("div",{className:"pasteList"},t)},u=e=>{if(null==e.channels||0===e.channels.length)return React.createElement("div",{className:"channelList"},React.createElement("p",null,"No Channels"));let t=[];for(let a=0;a<e.channels.length;a++){let n=e.channels[a];0==a?t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton active",index:n.index,onClick:f},n.name)):t.push(React.createElement("button",{key:n.index+n.name,className:"buttonLook channelButton",index:n.index,onClick:f},n.name))}return React.createElement("div",{className:"channelList"},t)},p=()=>{console.log("RENAME")},h=e=>React.createElement("div",null,React.createElement("h2",null,"Channel Options"),React.createElement("button",{className:"buttonLook",onClick:p},"Edit Channel Names")),g=()=>{console.log("PREMIUM")},w=e=>React.createElement("div",null,React.createElement("h2",null,"Premium Options"),React.createElement("p",null,"Purchasing premium gives you 5 total channels to store pastes in. Premium is a one time purchase of $7.99."),React.createElement("button",{className:"buttonLook buttonLookGreen",onClick:g},"Purchase Premium")),E=a=>{a.preventDefault(),e.hideMessage();const n=a.target.parentNode.querySelector("#pass").value,s=a.target.parentNode.querySelector("#pass2").value;return n?n!=s?(e.showMessage("Passwords do not match!"),!1):(e.sendPost("/passwordChange",{pass:n,_csrf:t},v,"POST"),!1):(e.showMessage("Password is empty!"),!1)},v=()=>{e.showMessage("Password changed!")},y=e=>React.createElement("div",null,React.createElement("h2",null,"Password Options"),React.createElement("label",{htmlFor:"pass"},"New Password: "),React.createElement("input",{id:"pass",type:"password",name:"pass",placeholder:"password"}),React.createElement("label",{htmlFor:"pass"},"Confirm your new Password: "),React.createElement("input",{id:"pass2",type:"password",name:"pass2",placeholder:"retype password"}),React.createElement("button",{className:"buttonLook",onClick:E},"Change Password")),R=async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const s=await fetch("/getPastes?index="+n),r=await s.json();ReactDOM.render(React.createElement(m,{pastes:r.pastes}),document.getElementById("mainView"))},f=e=>{n=e.target.getAttribute("index");const t=document.getElementsByClassName("channelButton");for(let e=0;e<t.length;e++)t[e].classList.remove("active");e.target.classList.add("active"),R()};window.onload=async()=>{const a=await fetch("/getToken"),s=await a.json();t=s.csrfToken,document.getElementById("mainView").addEventListener("paste",(a=>{(async a=>{a.preventDefault(),e.hideMessage();let s=await navigator.clipboard.readText();s=s.trim(),""!=s&&null!=s&&null!=s?e.sendPost("/app",{text:s,channelIndex:n,_csrf:t},R):e.showMessage("There's nothing to paste!")})(a)})),(async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const n=await fetch("/getChannels"),s=await n.json();ReactDOM.render(React.createElement(u,{channels:s.channels}),document.getElementById("channels"))})(),(async()=>{const e=await fetch("/getToken"),a=await e.json();t=a.csrfToken;const n=await fetch("/getChannels"),s=await n.json();ReactDOM.render(React.createElement(h,{channels:s.channels}),document.getElementById("editChannelsArea")),ReactDOM.render(React.createElement(w,{channels:s.channels}),document.getElementById("premiumArea")),ReactDOM.render(React.createElement(y,{channels:s.channels}),document.getElementById("passwordChangeArea"))})(),R()}})()})();